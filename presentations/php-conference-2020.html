<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>CakePHP Fixture Factories</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/white.css" id="theme">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


    <style>
        .cakephp {
            color: #D33C44!important;
        }
        .vierge-noire {
            color: #0C0239!important;
        }
        .col-container {
            display: flex;
        }
        .col {
            flex: 1;
            font-size: 0.6em;
        }
        .shadow {
            -webkit-box-shadow: 4px 6px 5px -4px rgba(0,0,0,0.75);
            -moz-box-shadow: 4px 6px 5px -4px rgba(0,0,0,0.75);
            box-shadow: 4px 6px 5px -4px rgba(0,0,0,0.75);
        }
        .slides {
            width: 1120px!important;
        }
        i {
            font-style: italic;
        }
        .green {
            color: green;
        }
        .red {
            color: red;
        }
        .orange {
            color: orange;
        }
        .orange-framed {
            border-style: solid;
            border-color: orange;
            border-width: 2px;
        }
        .grey-framed {
            border-style: solid;
            border-color: grey;
            border-width: 2px;
        }
        .green-framed {
            border-style: solid;
            border-color: green;
            border-width: 2px;
        }
        footer {
            position: absolute;
            bottom: 1em;
            left: 1em;
            font-size: 0.5em;
            width: 100%;
        }
        footer a {
            color: #0C0239!important;
        }
        .float-right {
            position:fixed;
            top:5%;
            z-index:9999;
            font-size: 0.8em;
            right:0;
        }
        .float-left {
            float: left;
            font-size: 0.5em;
            position: fixed;
            padding: 5px;
            font-weight: bold;
        }
    </style>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section>
            <h4 class="cakephp">
                CakePHP Fixture Factories
            </h4>
            <h4 class="vierge-noire">
                Test DB Cleaner
            </h4>
            <p><small>Juan Pablo Ramirez - Nicolas Masson</small></p>
            <p>
                <img style="height: 100px" src="assets/IPC.png">
                <img style="height: 100px" src="assets/cakephp_logo.jpg">
                <img style="height: 100px" src="../images/vierge-noire-3.svg">
            </p>

        </section>
        <section>
            <h4>Test Driven Developers</h4>
            <img class="fade-down shadow" data-src="assets/pablo-et-nico.jpg" height="200px" alt=""/>
            <div class="col-container">
                <div class="col">
                    Juan Pablo Ramirez<br>
                    Fullstack developer at <a href="webrider.de">webrider.de</a>
                </div>
                <div class="col">
                    Nicolas Masson <br>
                    Fullstack developer at <a href="https://b-projects.tech/">[B]-projects</a>
                </div>
            </div>
            <p>
                <a class="vierge-noire" href="https://vierge-noire.github.io/" target="_blank">
                    <img style="height: 150px" src="../images/vierge-noire-3.svg">
                </a>
            </p>
        </section>
        <section>
            <h4>Tests and the DB</h4>
            <section>
                <h4>Two issues</h4>
                <p class="fragment">Test Fixtures</p>
                <p class="fragment">DB clean-up</p>
                <aside class="notes">
                    In this presentation, I will address issues encountered when writing tests interacting with
                    the database.
                    I will address in particular the test fixtures, that is the population of the database
                    before tests get run in the so-called "Arrange" phase of the tests.
                    <br>
                    In the second part of the presentation, I will present our work at Vierge Noire towards the
                    cleaning of the test database prior to each test. Their are already multiple approaches to
                    these issues, and I only wish to present our approaches.
                </aside>
            </section>
            <section>
                <ul style="list-style-type: upper-roman">
                    <li>
                        Tests overview
                    </li>
                    <li class="fragment">
                        <span class="cakephp">CakePHP</span>'s native ORM
                    </li>
                    <li class="fragment">
                        <span class="cakephp">CakePHP</span> Fixture Factories
                    </li>
                    <li class="fragment">
                        Trigger-based Database Cleaner
                    </li>
                </ul>
                <aside class="notes">
                    In a first part, I'll quickly talk about what tests are, and what they are good for.
                    I'll then give a brief presentation of the CakePHP ORM. This will illustrate the way
                    the CakePHP fixture factories were conceived. Eventually, I'll present an innovative
                    approach to clean test DBs: the trigger-based cleaner.
                </aside>
            </section>
        </section>
        <section>
            <h4>Tests should be</h4>

            <h4 class="fragment">Readable</h4>
            <img height="80" data-src="assets/book.svg" alt="Book" class="fragment fade-left">
            <h4 class="fragment">Easy to write</h4>
            <img width="80" data-src="assets/tool.svg" alt="Tool" class="fragment fade-left">
            <h4 class="fragment">Run fast</h4>
            <img height="80" data-src="assets/chrono.svg" alt="Chrono" class="fragment fade-left">

            <aside class="notes">
                Tests should meet the following criteria: they should be intelligible.
                Ideally you should be able to read them like prose. <br>
                They should be easy to write and to maintain. The excuse:
                no time for writing tests should not be legitimate.
                Autocompletion should assist you.<br>
                They should run fast. To that aim, avoid
                interaction with the DB and do not load unnecessary fixtures.
            </aside>
        </section>
        <section>
            <h4>
                Why test?
            </h4>
            <ul>
                <li class="fragment">
                    <h4>Clean code</h4>
                </li>
                <li class="fragment">
                    <h4>Documentation</h4>
                </li>
                <li class="fragment">
                    <h4>Code integrity</h4>
                </li>
                <li class="fragment">
                    <h4>Saves time</h4>
                </li>
            </ul>
            <aside class="notes">
                But why do we write tests? Tests helps you to write clean code. If you struggle
                writing your test, it could be due to the complexity of the code your are testing <br>
                If your tests can easily be read and understood, they document your source code.<br>
                Whenever your code is refactored, features are added, or external packages get updated,
                tests ensure that your code retains it's integrity. <br>
                Tests significantly reduce the amount of time spent on code maintenance. It saves time and efforts.
            </aside>
        </section>
        <section>
            <h4>
                Test anatomy
            </h4>
            <section>
                <div class="fragment">
                    <p style="color: red">Arrange</p>
                </div>
                <div class="fragment">
                    <p>Act</p>
                </div>
                <div class="fragment">
                    <p style="color: darkgreen">
                        Assert
                    </p>
                </div>
                <aside class="notes">
                    How do tests look like? Most of them will follow the famous AAA pattern.<br>
                    Arrange will prepare the scenario of your test<br>
                    Act will call the method under test<br>
                    Assert will ensure that the result of the method meets expectations.

                    Test driven development means that you write Arrange and Assert before Act.
                </aside>
            </section>
            <section>
                <h4>Example <br> User permissions</h4>
                <p>Users &harr; UsersGroups &harr; Permissions</p>
                <p><pre data-id="code-animation"><code class="hljs" data-trim>
                users
                users_users_groups
                users_groups
                users_groups_permissions
                permissions
            </code></pre>
                </p>
                <aside class="notes">
                    In this presentation, I will take the example of user permissions.
                    We have a table users, users belong to many user groups, and user groups belongs to many permissions.
                    We end up with 5 tables, and therefore 5 test fixture files.

                    Let's say I need a user with permission Foo. I need to go to the permission fixtures and search for permission foo, note its id,
                    search in the pivot table users groups permissions which user groups this permission is associated. Hopefully I find one. Knowing this or these
                    user group ids, I need to search in the pivot table users users groups for one user belonging to the user groups.

                    A terrible pain. There are ways to ease the pain, but the pain will always remain.
                </aside>
            </section>
            <section>
                <h4>Test permissions Foo</h4>
                <p class="fragment red">
                    Arrange <br>
                    Create user, user group, permission Foo, pivot tables</p>
                </p>
                <p class="fragment">
                    Act <br>
                    Check permission Foo for user
                </p>
                <p class="fragment green">
                    Assert <br>
                    Expect user to have permission Foo
                </p>
                </p>
                <aside class="notes">
                    Back to our previous example, in arrange we create the user, the users group, the permission and the pivot table
                    We call our hasPermission method and we eventually assert the the user has the given permission.
                </aside>
            </section>
        </section>
        <section>
            <h4><span class="cakephp">CakePHP</span>'s native ORM</h4>
            <section>
                <p><pre data-id="code-animation"><code class="hljs" data-trim data-line-numbers="|9|">
                namespace App\Model\Table;

                use Cake\ORM\Table;

                class UsersTable extends Table
                {
                    public function initialize(array $config): void
                    {
                        $this->belongsToMany('UsersGroups');
                    }
                }
                </code></pre></p>
            </section>
            <section>
                <p><pre data-id="code-animation"><code class="hljs" data-trim data-line-numbers="|10-11|">
                namespace App\Model\Table;

                use Cake\ORM\Table;

                class UsersGroupsTable extends Table
                {
                    public function initialize(array $config): void
                    {
                        $this
                            ->belongsToMany('Users')
                            ->belongsToMany('Permissions');
                    }
                }
                </code></pre></p>
            </section>
            <section>
                <p><pre data-id="code-animation"><code class="hljs" data-trim data-line-numbers="|9|">
                namespace App\Model\Table;

                use Cake\ORM\Table;

                class PermissionsTable extends Table
                {
                    public function initialize(array $config): void
                    {
                        $this->belongsToMany('UsersGroups');
                    }
                }
                </code></pre></p>
            </section>
            <section>
                <p class="fragment"><pre data-id="code-animation"><code class="hljs" data-trim data-line-numbers="|3|">
                    // Retrieve all users, join permissions
                    $users = $this->Users->find()
                        ->contain('UsersGroups.Permissions')
                        ->toArray();
                </code></pre></p>
                <p class="fragment"><pre data-id="code-animation"><code class="hljs" data-trim data-line-numbers="|3|">
                    // Filter users by permissions, join permissions
                    $admins = $this->Users->find()
                        ->matching('UsersGroups.Permissions', function ($q) {
                            return $q->where(['Permissions.name' => 'Admin')
                        })
                        ->toArray();
                </code></pre></p>
            </section>
            <section>
                <p class="fragment"><pre data-id="code-animation"><code class="hljs" data-trim>
                    // With Database access
                    public function hasPermission(int $userId, string $perm): bool
                    {
                      return $this->Users->find()
                        ->innerJoinWith('UsersGroups.Permissions', function ($q) use ($perm) {
                            return $q->where(['Permissions.name' => $perm)
                        })
                        ->where(['Users.id' => $userId])
                        ->count() > 0;
                    }
                </code></pre></p>
                <p class="fragment"><pre data-id="code-animation"><code class="hljs" data-trim>
                    // Without Database access
                    public function hasPermission(User $user, string $perm): bool
                    {
                        return in_array(
                            $perm,
                            Hash::extract($user, 'users_groups.{n}.permissions.{n}.name')
                        )
                    }
                </code></pre></p>
            </section>
        </section>
        <section>
            <h4>Test fixtures</h4>
            <section>
                <p>UsersTable &harr; UsersGroupsTable &harr; PermissionsTable</p>
                <p>5 Tables &rarr; 5 Fixtures per test</p>
                <p><pre data-id="code-animation"><code class="hljs" data-trim data-line-numbers="|5|4|3|2|1">
                users
                users_users_groups
                users_groups
                users_groups_permissions
                permissions
                </code></pre></p>
            </section>
            <section>
                <p class="fragment">
                    1 permission <i>Foo</i> -
                    4 users:
                    <i class="green">Admins</i>, <i class="green">Gurus</i>, <i class="green">Foo</i>, <i class="red">Bar</i>
                </p>
                <div class="col-container">
                    <div class="col fragment fade-right">
                        <h4>Static</h4>
                        <ul>
                            <li class="fragment">
                                SQL "Dump" with 4 users, user groups and permissions + pivot tables
                            </li>
                            <li class="fragment">
                                Load the dump before each test
                            </li>
                            <li class="fragment">
                                Identify test relevant user
                            </li>
                            <li class="green fragment">
                                Easy to create
                            </li>
                            <li class="red fragment">
                                Horrible to maintain
                            </li>
                            <li class="orange fragment">
                                Total fixtures loaded: 5 &#x2027; 4 &#x2027; 4 = 80
                            </li>
                        </ul>
                    </div>
                    <div class="col fragment fade-left">
                        <h4>Dynamic / Factories</h4>
                        <ul>
                            <li class="fragment">
                                Create before each test 1 user, 1 user groups and 1 permission + pivot tables
                            </li>
                            <li class="fragment">
                                Within each test
                            </li>
                            <li class="orange fragment">
                                Easy to create
                            </li>
                            <li class="orange fragment">
                                Easy to maintain
                            </li>
                            <li class="green fragment">
                                Total fixtures loaded: 5 &#x2027; 4 = 20
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
        </section>
        <section>
            <div class="baked-with-cakephp"></div>
            <h4> <span class="cakephp">CakePHP</span> Fixture Factories</h4>
            <section>
                <p>App\Test\Factory\UserFactory.php</p>
                <pre data-id="code-animation"><code class="hljs" data-trim data-line-numbers="|6-16|">
                    protected function getRootTableRegistryName(): string
                    {
                      return 'Users';
                    }

                    protected function setDefaultTemplate(): void
                    {
                      $this->setDefaultData(function(Generator $faker) {
                        return [
                          'username' => $faker->username,
                          'email' => $faker->email,
                        ];
                      });

                      $this->withPermission();
                    }
                </code></pre>
            </section>
            <section>
                <pre data-id="code-animation"><code class="hljs" data-trim data-line-numbers="|1|3|5|7|9-12|">
                    $user = UserFactory::make()->getEntity();

                    UserFactory::make(4)->getEntities();

                    UserFactory::make(4)->persist();

                    UserFactory::make(['username' => 'Foo'])->persist();

                    UserFactory::make([
                      ['username' => 'Foo'],
                      ['username' => 'Bar'],
                    ])->persist();
                </code></pre>
            </section>
            <section>
                <pre data-id="code-animation"><code class="hljs" data-trim data-line-numbers="|1-3|5-10|12-14|">
                    UserFactory::make(3)
                      ->with('UsersGroups.Permissions', ['name' => 'Foo'])
                      ->getEntity();

                    UserFactory::make()
                      ->with('UsersGroups.Permissions', [
                        ['name' => 'Foo'],
                        ['name' => 'Bar'],
                      ])
                      ->getEntity();

                    UserFactory::make()
                      ->withPermission('Foo')
                      ->getEntity();
                </code></pre>
            </section>
        </section>
        <section>
            <div class="baked-with-cakephp"></div>
            <section>
                <h3>Unit test</h3>
                <p><pre data-id="code-animation"><code class="hljs" data-trim data-line-numbers="|3-6|8-9|11-12|1-12|">
							public function testUserPermission()
							{
							  // Arrange
							   $user = UserFactory::make()
								->with('UsersGroups.Permissions', ['name' => 'Foo'])
								->getEntity();

							   // Act
							   $act = $this->Users->hasPermission($user, 'Foo');

							   // Assert
							   $this->assertTrue($act);
							}
						</code></pre></p>
                <img height="80" data-src="assets/book.svg" alt="Book" class="fragment fade-left">
                <img height="80" data-src="assets/tool.svg" alt="Tool" class="fragment fade-left">
                <img height="80" data-src="assets/chrono.svg" alt="Chrono" class="fragment fade-left">
                <aside class="notes">
                    This is how the test looks like with the factories.
                    The factory being tight to the UsersTable, it is aware of the associations of the user.
                </aside>
            </section>
            <section>
                <h3>Unit tests</h3>
                <p><pre data-id="code-animation"><code class="hljs" data-trim data-line-numbers="|3|7|9|">
						public function dataProviderForTestPermission()
						{
						   return [['Admin',true],['Guru',true],['Foo',true],['Bar',false]];
						}

						/** @dataProvider dataProviderForTestPermission */
						public function testPermission(string $p, bool $exp)
						{
						   $user = UserFactory::make()->withPermission($p)->getEntity();

						   $act = $this->Users->hasPermission($user, 'Foo');

						   $this->assertSame($exp, $act);
						}
						</code></pre></p>
                <aside class="notes">
                    Since creating fixtures are now made a piece of cake, we are not afraid any more to
                    add tests to make our application more robust.
                    For example here, we will test the hasPermission method against 4 users with different
                    permissions. Admin and Gurus should have all permission Foo. A user with permission Bar not.

                    The PHPUnit data provider tool enables to run one test with different settings. Here we pass the permission
                    of the user created in the test, and the assert expectation.

                    The test remains simple to read, and the test is complete.
                </aside>
            </section>
            <section>
                <h3>Behavioral test</h3>
                <p><pre data-id="code-animation"><code class="hljs" data-trim data-line-numbers="|1-9|11-14|16-19|21-24">
						Feature: User permission

						  Background:
						   Given I create a user with id 504

						  Scenario:
							Given I log in with permission 'Users'
							When I call get 'users/view/504'
							Then I shall be granted access.

						  Scenario:
							Given I log in with permission 'Admin'
							When I call get 'users/view/504'
							Then I shall be granted access.

						  Scenario:
							Given I log in with permission 'Guru'
							When I call get 'users/view/504'
							Then I shall be granted access.

						  Scenario:
							Given I log in with permission 'Foo'
							When I call get 'users/view/504'
							Then I shall be redirected.

						</code></pre></p>
                <aside class="notes">
                    The factories will also ease the way you write your integration
                    test, for example here with behat. I will get back to it later
                    with some coding examples.
                </aside>
            </section>
        </section>
        <section data-transition="convex">
            <div class="baked-with-cakephp"></div>
            <h4> <span class="cakephp">CakePHP</span> Fixture Factories</h4>
            <p class="fragment">
                Default template
            </p>
            <p class="fragment">
                Association builder
            </p>
            <p class="fragment">
                Persist or not
            </p>
            <p class="fragment">
                Random Ids
            </p>
        </section>
        <section>
            <h4>Persist costs</h4>
            <p style="font-size: 24px;">Time (Y axis) vs Number of tests (X axis)</p>
            <canvas data-chart="line" class="stretch" style="background-color: gray; margin: auto">
                <!--
                {
                 "data": {
                  "labels": [100, 200, 300, 400, 500, 600],
                  "datasets": [
                   {
                    "data":[0.6, 1.1, 1.6, 1.9, 2.7, 2.7],
                    "label":"Dynamic","backgroundColor":"rgba(215,27,59,.8)", "borderColor": "#d71b3b"
                   },
                   {
                    "data":[7.2, 10, 15, 24, 26, 36],
                    "label":"Dynamic persisted","backgroundColor":"rgba(22,172,234,.8)", "borderColor": "#16acea"
                   },
                   {
                    "data":[7.7, 19, 38, 64, 100, 143],
                    "label":"Static legacy listener","backgroundColor":"rgba(66,3,201,.8)", "borderColor": "#4203c9"
                   }
                  ]
                 },
                 "options": { "responsive": "true" }
                }
                -->
            </canvas>
            <aside class="notes">

                The x-axis is the number of tests per TestClass.
                In y-axis is the time in second to perform the whole test suite. The numbers are taken form a performance
                study available here.

                In red, the fixtures generated by the factories are not persisted in the data base.
                This is real unit testing, or at least close to it, since there is no interaction with
                the database. Tests remain low.

                In blue sky, the fixtures are generated by the factories, and persisted. This takes significantly
                more time time. The execution time is proportional to the size of your app.

                In dark blue, the fixtures are generated by the CakePHP native fixtures. Since all fixtures of a fixture file are loaded
                for a given test, the more your application grows, the faster it gets slower. The law is hyperbolic.

                You will probably not achieve the red line. But if you keep in mind that avoiding DB interaction speeds up your test,
                and your app in general, the fixture factories will enable you to write and test methods that rather use entities
                than ids.

                The numbers and the test setting are available on a github repo here.

            </aside>
        </section>
        <section>
            <h4>DB cleaning</h4>
            <p>
                <small><a href="https://github.com/vierge-noire/test-database-cleaner" target="_blank">
                    https://github.com/vierge-noire/test-database-cleaner
                </a></small>
            </p>
            <p>
                <div class="fragment">
                    <img src="assets/laravel-logo.svg" height="200px">
                    <img src="assets/symfony-logo.svg" height="200px">
                </div>
                <img src="../images/vierge-noire-3.svg" height="150px">
            </p>
        </section>
        <section>
            <h4>DB cleaning with transactions</h4>
            <div class="orange-framed fragment">
                <div class="float-right">
                    <img src="assets/laravel-logo.svg" height="100px">
                    <img src="assets/symfony-logo.svg" height="100px">
                </div>
                <div class="orange float-left">Warm-up</div>
                <p class="col">Test suite starts</p>
                <p class="col orange">Truncate all tables</p>
                <div class="col-container">
                    <div class="col fade-right">
                        <p class="red">
                            Load test dump <br>
                            High maintenance
                        </p>
                    </div>
                    <div class="col fade-right">
                        <p class="orange">
                            Run migrations <br>
                            ~10 seconds
                        </p>
                    </div>
                </div>
            </div>
            <div class="grey-framed fragment">
                <p class="col">Start test</p>
                <div class="col">
                    <p class="orange">Start SQL transaction</p>
                    <p>Run test</p>
                    <p class="green">Rollback transaction</p>
                </div>
            </div>
            <aside class="notes">
                In the best case, your framework will truncate all tables before the tests start.
                It will then run your DB migrations in order to reconstruct the schema. Or worst, it
                loads a database dump.
            </aside>
        </section>
        <section>
            <h4>DB cleaning with triggers</h4>
            <section>
                <p class="col">Test suite starts</p>
                <div class="green-framed fragment">
                    <div class="float-right">
                        <img src="../images/vierge-noire-3.svg" height="100px">
                    </div>
                    <div class="green float-left">Warm-up</div>
                    <p class="col green">
                        <div class="col fade-right">
                            <p class="green">
                                Run migrations
                            </p>
                        </div>
                    <pre data-id="code-animation" style="font-size: 0.4em"><code data-trim>
                        CREATE TABLE IF NOT EXISTS dirty_tables_collector (table_name VARCHAR(128) PRIMARY KEY);

                        CREATE TRIGGER table_users_trigger AFTER INSERT ON `users`
                            FOR EACH ROW
                            INSERT IGNORE INTO dirty_table_collector (table_name)
                            VALUES ('dirty_tables_collector'), ('users');
                    </code></pre>
                    </p>
                </div>
                <div class="grey-framed fragment">
                    <p class="col green">Truncate dirty tables in 1 procedure</p>
                    <div class="col">
                        <p>Run test</p>
                    </div>
                </div>
                <img height="80" data-src="assets/chrono.svg" alt="Chrono" class="fragment fade-left">
                <aside class="notes">
                    The package
                </aside>
            </section>
            <section>
                <p>
                    <small><a href="https://github.com/vierge-noire/test-database-cleaner" target="_blank">
                        https://github.com/vierge-noire/test-database-cleaner
                    </a></small>
                </p>
                <p class="fragment">
                    It's fast: no warm up
                </p>
                <p class="fragment">
                    MySQL, Postgres, SQL Server, Sqlite + contribution
                </p>
                <p class="fragment">
                    CakePHP, Laravel + contribution
                </p>
                <p class="fragment">
                    Feel free to join the project!
                </p>
                <aside class="notes">
                    This approach is only one different solution.
                    It is fast, because it cuts down the warm-up time drastically.
                    It works with any SQL engine supporting triggers.
                    The package is open for extension. We are working on a version working with Symfony.
                    Additionally, the SQL commands can also be optimized.
                </aside>
            </section>
        </section>
        <section>
            <h4>
                Conclusion
            </h4>
            <div class="baked-with-cakephp"></div>
            <p class="fragment">
                Build fast with <span class="cakephp">CakePHP</span>
            </p>
            <p class="fragment">
                Grow solid with the Fixture Factories
            </p>
            <p class="fragment">
                Join us to improve the test database cleaner
            </p>
            <p class="fragment">
                <small>Credits: Juan Pablo Ramirez - Nicolas Masson</small>

            </p>
            <div>
                <a class="vierge-noire" href="https://vierge-noire.github.io/" target="_blank">
                    <small>https://vierge-noire.github.io</small> <br>
                    <img style="height: 150px" src="../images/vierge-noire-3.svg">
                </a>
            </div>
        </section>
        <footer>
            <a href="mailto:'vierge.noire.info@gmail.com'">vierge.noire.info@gmail.com</a>
        </footer>
    </div>
</div>
<script src="dist/reveal.js"></script>
<script src="plugin/notes/notes.js"></script>
<script src="plugin/markdown/markdown.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script src="plugin/chart/Chart.min.js"></script>
<script src="plugin/chart/plugin.js"></script>
<script>

    $(function(){
        $(".baked-with-cakephp").html('<div class="float-right">\n' +
            '    <a href="http://www.cakephp.org/">\n' +
            '        <img src="http://www.cakephp.org/img/flags/Baked-with-CakePHP.png" width="100px;">\n' +
            '    </a>\n' +
            '</div>');
    });

    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
        hash: true,
        slideNumber: 'c/t',

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealChart ],


        chart: {
            defaults: {
                global: {
                    title: { fontColor: "#FFF" },
                    legend: {
                        labels: { fontColor: "#FFF" },
                    },
                },
                scale: {
                    scaleLabel: { fontColor: "#FFF" },
                    gridLines: { color: "#FFF", zeroLineColor: "#FFF" },
                    ticks: { fontColor: "#FFF" },
                }
            },
            line: { borderColor: [ "rgba(20,220,220,.8)" , "rgba(220,120,120,.8)", "rgba(20,120,220,.8)" ], "borderDash": [ [5,10], [0,0] ]},
        },
    });
</script>
</body>
</html>